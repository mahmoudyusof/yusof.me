import{P as v,Q as c,R as g,S as h,r as y,o as $,U as j}from"./rvfMUhuX.js";const f=new WeakMap;function k(r){if(f.has(r))return f.get(r);const n={...r};return n.render?n.render=(s,u,t,i,o,d)=>{var a;if(i.mounted$??s.mounted$){const e=(a=r.render)==null?void 0:a.bind(s)(s,u,t,i,o,d);return e.children===null||typeof e.children=="string"?v(e):c(e)}else{const e=g(s._.vnode.el??null)??["<div></div>"];return h(e.join(""),e.length)}}:n.template&&(n.template=`
      <template v-if="mounted$">${r.template}</template>
      <template v-else><div></div></template>
    `),n.setup=(s,u)=>{var a;const t=j(),i={...t.attrs},o=M(t);for(const e in i)delete t.attrs[e];const d=y(!1);return $(()=>{Object.assign(t.attrs,i),t.vnode.dirs=o,d.value=!0}),Promise.resolve(((a=r.setup)==null?void 0:a.call(r,s,u))||{}).then(e=>typeof e!="function"?(e=e||{},e.mounted$=d,e):(...m)=>{if(d.value){const l=e(...m);return l.children===null||typeof l.children=="string"?v(l):c(l)}else{const l=g((t==null?void 0:t.vnode.el)??null)??["<div></div>"];return h(l.join(""),l.length)}})},f.set(r,n),n}function M(r){if(!r||!r.vnode.dirs)return null;const n=r.vnode.dirs;return r.vnode.dirs=null,n}export{k as c};
