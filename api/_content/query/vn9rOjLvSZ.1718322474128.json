{"_path":"/blog/handle-unwanted-rerendering","_dir":"blog","_draft":false,"_partial":false,"_locale":"","title":"Handle Unwanted Re-Rendering In Vue","description":"A guide to only rendering components that need to be rendered and some best practices","type":"article","date":"2024-06-14","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"handle-unwanted-re-rendering-in-vue"},"children":[{"type":"text","value":"Handle Unwanted Re-Rendering In Vue"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Maybe you've asked yourself before \"Why is this component re-rendering?\" or \"Why is this request being sent again?\" or \"If only there's a way to explicitly specify which state this component tracks!\" then continue reading."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this article, we will go through when to expect component re-renders and how to avoid unwanted re-rendering. But let's start from the beginning."}]},{"type":"element","tag":"h2","props":{"id":"how-reactivity-works-in-vuereact"},"children":[{"type":"text","value":"How Reactivity Works in Vue/React"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"At this point the term 'virtual DOM' doesn't scare anyone, it has been the way React, Angular and Vue handle reactivity (this is about to change and we'll talk about it), but let's go through how reactivity works in loose terms."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Initially, a VDOM tree is constructed with all the components"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When the state of a particular component changes, a VDOM sub-tree is re-evaluated"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Then a diff between the current and the next VDOM is computed"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Finally, the DOM updates are performed"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"NOTE:"}]},{"type":"text","value":" This is not the case for frameworks like Qwik and Solid as they reflect state changes to the DOM directly; more about that in future articles."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In React and Angular, this VDOM sub-tree starts from the component that owns the state change and affects all of its children."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nIn vue, however, things are a bit different."}]},{"type":"element","tag":"h2","props":{"id":"refs-signals-before-they-were-cool"},"children":[{"type":"text","value":"Refs (signals before they were cool)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can think of signals as values that one can read, update, or watch (subscribe to)."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nGiven that description, signals are refs in vue (but y'all like solid)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In a vue component, if that component is reading the value of a ref then it is automatically watching (or subscribing to) that ref as well, which means any component that uses this value will render when that value changes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In light of the previous statement let's take a look at the following structure"}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes dark-plus github-dark","code":"<template>\n    <MidComponent :state=\"state\" />\n</template>\n","filename":"Parent.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"MidComponent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"state"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"state"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes dark-plus github-dark","code":"<template>\n    <Child :state=\"state\" />\n</template>\n","filename":"MidComponent.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"Child"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"state"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"state"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Again, in light of that statement above, one would assume that if "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MidComponent"}]},{"type":"text","value":" doesn't use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"state"}]},{"type":"text","value":", then if it changes that wouldn't cause it to re-render, right? (React devs of course don't think so)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Well no really, the reason being that passing state as props even if they are not used in the component unwraps a ref, which means that the intermediate component is now a subscriber to that ref/signal."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Luckely there is an easy solution for that problem."}]},{"type":"element","tag":"h2","props":{"id":"provide-inject"},"children":[{"type":"text","value":"Provide / Inject"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As we said, passing props to a component even if the component is not using the value of these props results in:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Prop drilling"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"unwanted rendering (unwanted subscribing to the signal or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ref"}]},{"type":"text","value":")"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The provide / inject pattern solves both of those problems, and here is how it works"}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes dark-plus github-dark","code":"<template>\n    <MidComponent />\n</template>\n\n<script setup>\n    import {ref, provide} from \"vue\";\n    const count = ref(0);\n    provide(\"count\", count);\n</script>\n","filename":"Parent.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"MidComponent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"ref"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"provide"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"} "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" \"vue\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4FC1FF;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" count"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" ref"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B5CEA8;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"    provide"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"count\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes dark-plus github-dark","code":"<template>\n    <span>{{ count }}</span>\n</template>\n\n<script setup>\n    import { inject } from \"vue\";\n    const count = inject(\"count\");\n</script>\n","filename":"Child.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"{{ "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" }}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"inject"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" \"vue\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4FC1FF;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" count"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" inject"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"count\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"reduce-dependencies-with-v-once-and-v-memo"},"children":[{"type":"text","value":"Reduce Dependencies With "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"v-once"}]},{"type":"text","value":" And "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"v-memo"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These are rarely used directives in vue, so I believe it is better to describe a use case before we talk about them."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nLet's take a look at the following code:"}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes dark-plus github-dark","code":"<template>\n    <form @submit.prevent=\"handleSubmit\">\n        <input type=\"text\" placeholder=\"Username\" v-model=\"username\" />\n        <input type=\"email\" placeholder=\"email\" v-model=\"password\" />\n\n        <input type=\"submit\" value=\"Submit\" />\n    </form>\n\n    <Serializer :username=\"username\" :password=\"password\" :response=\"response\" />\n</template>\n\n<script setup>\n    import {ref} from \"vue\"\n    const username = ref(\"\")\n    const password = ref(\"\")\n    const response = ref(null)\n\n    const handleSubmit = () => {\n        fetch(\"/api\").then(res => res.json()).then(res => {\n            response.value = res\n        }).catch(e => {\n            // error handling\n        })\n    }\n</script>\n","filename":"Form.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"form"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" @"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"submit"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"prevent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"handleSubmit"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"input"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" type"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"text\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" placeholder"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"Username\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" v-model"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"input"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" type"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"email\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" placeholder"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"email\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" v-model"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"input"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" type"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"submit\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" value"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"Submit\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"form"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"Serializer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"response"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"response"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"ref"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"} "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" \"vue\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4FC1FF;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" username"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" ref"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4FC1FF;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" password"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" ref"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4FC1FF;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" response"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" ref"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" handleSubmit"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"        fetch"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"/api\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"then"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#FFAB70"},"children":[{"type":"text","value":"res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"json"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"())."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"then"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#FFAB70"},"children":[{"type":"text","value":"res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"            response"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" res\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        })."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"catch"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#FFAB70"},"children":[{"type":"text","value":"e"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A9955;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"            // error handling\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes dark-plus github-dark","code":"<template>\n    <div>\n        <p>username: {{ username }}</p>\n        <p>password: {{ password }}</p>\n        <pre>\n            {{ JSON.stringify(response) }}\n        </pre>\n    </div>\n</template>\n\n<script setup>\n    defineProps({\n        username: String,\n        password: String,\n        response: Object\n    })\n</script>\n","filename":"Serializer.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"username: {{ "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" }}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"password: {{ "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" }}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"            {{ "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4FC1FF;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"JSON"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"stringify"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"response"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":") }}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"    defineProps"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        username:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" String"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        password:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" String"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        response:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" Object\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, even though "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Serializer"}]},{"type":"text","value":" takes in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"username"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"password"}]},{"type":"text","value":" as props, we might not want it to trigger a render every time they change; we might want to change only when we get a different response. We can achieve such behavior using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"v-memo"}]},{"type":"text","value":" directive, like this:"}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes dark-plus github-dark","code":"<template>\n<!-- ... -->\n    <Serializer :username=\"username\" :password=\"password\" :response=\"response\" v-memo=\"[response]\" />\n<!-- ... -->\n</template>\n","filename":"Form.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A9955;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"<!-- ... -->\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"Serializer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"response"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"response"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" v-memo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"response"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A9955;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"<!-- ... -->\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This tells vue that the only dependency is "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"response"}]},{"type":"text","value":"; if we pass an empty array that would indicate that we only want to render a snapshot of the props, which is what "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"v-once"}]},{"type":"text","value":" directive does. In that case, the component only renders when its internal state changes, not caring about the parent's state."}]},{"type":"element","tag":"h2","props":{"id":"v-dom-vs-dom-node-updates"},"children":[{"type":"text","value":"V-DOM vs DOM node updates"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When we talk about the V-DOM subtree update, even if (at best) we update only a single V-DOM node, that could be a lot of HTML (DOM nodes), a lot of which might not depend on the state."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nThis is also true if the internal component state changes, the entire component will be re-created, even though most of its contents might be static HTML."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nThis is always the case whith V-DOM-based frameworks like React, Angular, and Vue."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nVue, however, uses the compiler to reduce the work needed at runtime mainly via two things:"}]},{"type":"element","tag":"h3","props":{"id":"_1-static-hoisting"},"children":[{"type":"text","value":"1. Static Hoisting"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This gets rid of the problem of static content; the compiler finds chunks of static HTML and creates a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"staticVNode"}]},{"type":"text","value":" for them that can be reused in the render function, and here is an example."}]},{"type":"element","tag":"pre","props":{"className":"language-html shiki shiki-themes dark-plus github-dark","code":"<div>\n  <p class=\"vue\">Vue.js is Cool</p>\n  <p class=\"solid\">Solid.js is also Cool</p>\n  <p class=\"vue\">Vue.js is Cool</p>\n  <p class=\"solid\">Solid.js is also Cool</p>\n  <p class=\"solid\">React is cool</p>\n  <p>{{agree}}</p>\n</div>\n","language":"html","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"vue\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"Vue.js is Cool"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"solid\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"Solid.js is also Cool"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"vue\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"Vue.js is Cool"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"solid\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"Solid.js is also Cool"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"solid\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"React is cool"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"{{agree}}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#808080;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-javascript shiki shiki-themes dark-plus github-dark","code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createStaticVNode(\"<p class=\\\"vue\\\">Vue.js is Cool</p><p class=\\\"solid\\\">Solid.js is also Cool</p><p class=\\\"vue\\\">Vue.js is Cool</p><p class=\\\"solid\\\">Solid.js is also Cool</p><p class=\\\"solid\\\">React is cool</p>\", 5)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _hoisted_1,\n    _createElementVNode(\"p\", null, _toDisplayString(_ctx.agree), 1 /* TEXT */)\n  ]))\n}\n","language":"javascript","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"createElementVNode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":" as"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" _createElementVNode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"toDisplayString"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":" as"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" _toDisplayString"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"createStaticVNode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":" as"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" _createStaticVNode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"openBlock"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":" as"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" _openBlock"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"createElementBlock"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":" as"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" _createElementBlock"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" \"vue\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4FC1FF;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" _hoisted_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A9955;--shiki-dark:#6A737D"},"children":[{"type":"text","value":" /*#__PURE__*/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"_createStaticVNode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"<p class="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D7BA7D;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"vue"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D7BA7D;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":">Vue.js is Cool</p><p class="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D7BA7D;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"solid"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D7BA7D;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":">Solid.js is also Cool</p><p class="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D7BA7D;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"vue"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D7BA7D;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":">Vue.js is Cool</p><p class="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D7BA7D;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"solid"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D7BA7D;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":">Solid.js is also Cool</p><p class="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D7BA7D;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"solid"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D7BA7D;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":">React is cool</p>\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B5CEA8;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#F97583"},"children":[{"type":"text","value":" function"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" render"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#FFAB70"},"children":[{"type":"text","value":"_ctx"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#FFAB70"},"children":[{"type":"text","value":"_cache"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#FFAB70"},"children":[{"type":"text","value":"$props"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#FFAB70"},"children":[{"type":"text","value":"$setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#FFAB70"},"children":[{"type":"text","value":"$data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#FFAB70"},"children":[{"type":"text","value":"$options"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#C586C0;--shiki-dark:#F97583"},"children":[{"type":"text","value":"  return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"_openBlock"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"(), "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"_createElementBlock"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"div\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    _hoisted_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"    _createElementVNode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CE9178;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"p\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#569CD6;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"_toDisplayString"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"_ctx"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"agree"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"), "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B5CEA8;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A9955;--shiki-dark:#6A737D"},"children":[{"type":"text","value":" /* TEXT */"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"  ]))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The variable "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"_hoisted_1"}]},{"type":"text","value":" is a group of all static "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"p"}]},{"type":"text","value":" tags, there is a separate VNode for the last "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"p"}]},{"type":"text","value":" tag as it uses state "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"agree"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"_2-patch-flags"},"children":[{"type":"text","value":"2. Patch Flags"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In a very over simplified way, a patch flag is a piece of meta-data added to the VNode to tell vue exactly what part of that node depends on state and they take the values:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"1 for text"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"2 for class"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"4 for style"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"8 for props"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can find the full list on "},{"type":"element","tag":"a","props":{"href":"https://github.com/vuejs/core/blob/main/packages/shared/src/patchFlags.ts","rel":["nofollow"]},"children":[{"type":"text","value":"Github patchFlags.ts"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vue then uses this information to further optimize updates, allowing for even more fine-grained control."}]},{"type":"element","tag":"h3","props":{"id":"vapor-mode"},"children":[{"type":"text","value":"Vapor Mode"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vapor mode is a feature now under development by the vue core team, and it is a game changer. It aims at getting rid of the VDOM approach as a whole."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is inspired by the solid.js approach (also Qwik) as it doesn't use a VDOM; instead, it maps changes directly to DOM nodes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"From a memory prespective you now remove a very large object (the VDOM) from memory gaining significant performance inhancements and you also target specific DOM nodes with your updates instead of updating a full component without the need for static hoisting, it just works."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"NOTE:"}]},{"type":"text","value":" worth mentioning that this feature is opt-in and can be incrementally adopted, so no worries."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nI know y'all are still traumatized by the Vue 2 -> 3 update."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is a huge topic to talk about, so perhaps I'll write an article about it in the future. Until then, you can experiment with vapor mode in the "},{"type":"element","tag":"a","props":{"href":"https://vapor-repl.netlify.app/","rel":["nofollow"]},"children":[{"type":"text","value":"Vapor Mode playground"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"conclusion"},"children":[{"type":"text","value":"Conclusion"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can summarize everything into the following points:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Vue uses refs (signals) to know exactly which components to render."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When a ref is passed as a prop, the component subscribes to it even if it doesn't read it."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You can use Provide / Inject to avoid this behavior and prop drilling."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You can define explicitly which refs to watch by using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"v-memo"}]},{"type":"text","value":" directive or opt-out completely by using "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"v-once"}]},{"type":"text","value":" directive."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The compiler does some work to hoist static content and inform runtime of which parts can be changed."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Vapor mode is going to allow for more fine-grained reactivity by updating DOM directly instead of VDOM."}]}]},{"type":"element","tag":"h2","props":{"id":"references"},"children":[{"type":"text","value":"References"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to learn more about how reactivity works in most modern frameworks, check out \""},{"type":"element","tag":"a","props":{"href":"https://www.builder.io/blog/reactivity-across-frameworks","rel":["nofollow"]},"children":[{"type":"text","value":"Unveiling the Magic: Exploring Reactivity Across Various Frameworks"}]},{"type":"text","value":"\" by MIŠKO HEVERY"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to know how vue refs work and how they relate to signals, check out "},{"type":"element","tag":"a","props":{"href":"https://vuejs.org/guide/extras/reactivity-in-depth.html#connection-to-signals","rel":["nofollow"]},"children":[{"type":"text","value":"Connection to Signals"}]},{"type":"text","value":" on the official vue docs."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to read more about Vapor Mode read "},{"type":"element","tag":"a","props":{"href":"https://www.vuemastery.com/blog/the-future-of-vue-vapor-mode/","rel":["nofollow"]},"children":[{"type":"text","value":"The Future of Vue: Vapor Mode"}]},{"type":"text","value":" by Timi Omoyeni."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"how-reactivity-works-in-vuereact","depth":2,"text":"How Reactivity Works in Vue/React"},{"id":"refs-signals-before-they-were-cool","depth":2,"text":"Refs (signals before they were cool)"},{"id":"provide-inject","depth":2,"text":"Provide / Inject"},{"id":"reduce-dependencies-with-v-once-and-v-memo","depth":2,"text":"Reduce Dependencies With v-once And v-memo"},{"id":"v-dom-vs-dom-node-updates","depth":2,"text":"V-DOM vs DOM node updates","children":[{"id":"_1-static-hoisting","depth":3,"text":"1. Static Hoisting"},{"id":"_2-patch-flags","depth":3,"text":"2. Patch Flags"},{"id":"vapor-mode","depth":3,"text":"Vapor Mode"}]},{"id":"conclusion","depth":2,"text":"Conclusion"},{"id":"references","depth":2,"text":"References"}]}},"_type":"markdown","_id":"content:blog:4.handle-unwanted-rerendering.md","_source":"content","_file":"blog/4.handle-unwanted-rerendering.md","_extension":"md"}